server.servlet.context-path=/advocate
server.port=8081

# Swagger / OpenAPI (assignment: add swagger api). UI at /advocate/swagger-ui/index.html
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
# Full URL for api-docs so Swagger UI fetches correctly with context-path /advocate (avoid 404/double path)
springdoc.swagger-ui.url=http://localhost:8081/advocate/v3/api-docs
springdoc.packages-to-scan=digit.academy.tutorial
app.timezone=UTC

# Logging: INFO for app (no debug/console noise); keep error/warn where needed
logging.level.root=WARN
logging.level.digit.academy.tutorial=INFO

# Database
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.url=jdbc:postgresql://localhost:5432/digit_assignment
spring.datasource.username=postgres
spring.datasource.password=postgres

# Flyway
spring.flyway.url=jdbc:postgresql://localhost:5432/digit_assignment
spring.flyway.user=postgres
spring.flyway.password=postgres
spring.flyway.locations=classpath:/db/migration/main
spring.flyway.baseline-on-migrate=true
spring.flyway.enabled=true
# Allow DB that was migrated by another app (e.g. DIGIT-OSS); do not fail on applied migrations missing locally (Flyway 9 uses ignore-migration-patterns)
spring.flyway.ignore-migration-patterns=*:missing

# Kafka
kafka.config.bootstrap_server_config=localhost:9092
spring.kafka.consumer.value-deserializer=org.egov.tracer.kafka.deserializer.HashMapDeserializer
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.group-id=digit-assignment
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer
spring.kafka.listener.missing-topics-fatal=false
spring.kafka.consumer.properties.spring.json.use.type.headers=false

# IDGen
egov.idgen.host=http://localhost:8285/
egov.idgen.path=egov-idgen/id/_generate

# User (for enriching RequestInfo with roles before workflow calls)
# Trailing slash required so host + endpoint = http://localhost:8089/user/_search
egov.user.host=http://localhost:8089/
egov.user.search.endpoint=user/_search

# Workflow
is.workflow.enabled=true
egov.workflow.host=http://localhost:8280
egov.workflow.transition.path=/egov-workflow-v2/egov-wf/process/_transition
egov.workflow.businessservice.search.path=/egov-workflow-v2/egov-wf/businessservice/_search
egov.workflow.processinstance.search.path=/egov-workflow-v2/egov-wf/process/_search

# MDMS (local only â€“ run egov-mdms-service on port 8094)
egov.mdms.host=http://localhost:8094
egov.mdms.search.endpoint=/egov-mdms-service/v1/_search

# Advocate Kafka topics
advocate.kafka.create.topic=save-advocate-application
advocate.kafka.update.topic=update-advocate-application
advocate.default.offset=0
advocate.default.limit=10
advocate.search.max.limit=50

# Persister config path (evaluator validates persister YAML)
egov.persist.yml.repo.path=file://${user.dir}/persister/persister_config.yaml
